# Yokai Monitoring Dashboard

–¢–µ—Å—Ç–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ: –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å—é —ë–∫–∞–µ–≤ (—è–ø–æ–Ω—Å–∫–∏—Ö –¥—É—Ö–æ–≤).
–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–∞—à–±–æ—Ä–¥ —Å —Ç–∞–±–ª–∏—Ü–µ–π –¥–∞–Ω–Ω—ã—Ö –∏ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π –∫–∞—Ä—Ç–æ–π, –æ–±–Ω–æ–≤–ª—è–µ–º—ã–º–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.

## üìã –û–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

–í —Ä–∞–º–∫–∞—Ö –∑–∞–¥–∞–Ω–∏—è –±—ã–ª —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Å–ª–µ–¥—É—é—â–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:

### 1. –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö (–°–ø–∏—Å–æ–∫)
*   **–¢–∞–±–ª–∏—Ü–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞**: –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —ë–∫–∞–µ–≤ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π (–ø–æ 5 —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ).
*   **–°—Ç–∞—Ç—É—Å—ã –∏ –£–≥—Ä–æ–∑—ã**: –¶–≤–µ—Ç–æ–≤–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤ (Active, Captured, etc.) –∏ —É—Ä–æ–≤–Ω—è —É–≥—Ä–æ–∑—ã.
*   **–ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω `Material UI` –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è —Ç–∞–±–ª–∏—Ü –∏ –ª–µ–π–∞—É—Ç–∞.
*   **–°–∫–µ–ª–µ—Ç–æ–Ω—ã**: –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω `MuiTableSkeleton` –¥–ª—è –ø–ª–∞–≤–Ω–æ–≥–æ UX –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö.

### 2. –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞ (Yandex Maps)
*   **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω Native API –Ø–Ω–¥–µ–∫—Å.–ö–∞—Ä—Ç —á–µ—Ä–µ–∑ –∫–∞—Å—Ç–æ–º–Ω—ã–π —Ö—É–∫ `useYmaps` (–∑–∞–≥—Ä—É–∑–∫–∞ —Å–∫—Ä–∏–ø—Ç–∞ –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é).
*   **–ú–∞—Ä–∫–µ—Ä—ã**: –Å–∫–∞–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –Ω–∞ –∫–∞—Ä—Ç–µ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏.
*   **–ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è**: –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –º–∞—Ä–∫–µ—Ä–æ–≤ (Clusterer) –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –±–æ–ª—å—à–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ç–æ—á–µ–∫.
*   **–¶–≤–µ—Ç–æ–≤–æ–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –¶–≤–µ—Ç –º–∞—Ä–∫–µ—Ä–∞ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —É—Ä–æ–≤–Ω—è —É–≥—Ä–æ–∑—ã (Threat Level) –∏–ª–∏ —Å—Ç–∞—Ç—É—Å–∞ (—Å–µ—Ä—ã–π –¥–ª—è –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö).
*   **–ë–∞–ª–ª—É–Ω—ã**: –ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –º–∞—Ä–∫–µ—Ä –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –¥–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è.

### 3. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–º (Capture Logic)
*   **Action Button**: –ö–Ω–æ–ø–∫–∞ "Capture/Release" –¥–æ—Å—Ç—É–ø–Ω–∞ –¥–ª—è —ë–∫–∞–µ–≤ —Å–æ —Å—Ç–∞—Ç—É—Å–∞–º–∏ `active` –∏–ª–∏ `captured`.
*   **Server-Side Logic**:
    *   –≠–Ω–¥–ø–æ–∏–Ω—Ç `POST /api/yokai/[id]/capture`.
    *   –ò–º–∏—Ç–∞—Ü–∏—è –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ–≥–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è/—Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏—è –¥—É—Ö–∞: **30% —à–∞–Ω—Å –Ω–µ—É–¥–∞—á–∏** –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –ø–æ–∏–º–∫–∏.
*   **Optimistic Updates**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω `React Query` (`onMutate`) –¥–ª—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è UI –¥–æ –æ—Ç–≤–µ—Ç–∞ —Å–µ—Ä–≤–µ—Ä–∞. –ï—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É, –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ—Ç–∫–∞—Ç—ã–≤–∞–µ—Ç—Å—è –Ω–∞–∑–∞–¥.
*   **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**: –í—Å–ø–ª—ã–≤–∞—é—â–µ–µ –¥–∏–∞–ª–æ–≥–æ–≤–æ–µ –æ–∫–Ω–æ (`CaptureErrorDialog`) –ø—Ä–∏ –Ω–µ—É–¥–∞—á–Ω–æ–π –ø–æ–ø—ã—Ç–∫–µ –ø–æ–∏–º–∫–∏.

### 4. Real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (SSE)
*   **Server-Sent Events**: –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω —ç–Ω–¥–ø–æ–∏–Ω—Ç `/api/sse`.
*   **–õ–æ–≥–∏–∫–∞**: –ö–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥ —Å–µ—Ä–≤–µ—Ä –≤—ã–±–∏—Ä–∞–µ—Ç —Å–ª—É—á–∞–π–Ω–æ–≥–æ —ë–∫–∞—è –∏ –∏–∑–º–µ–Ω—è–µ—Ç –µ–≥–æ —É—Ä–æ–≤–µ–Ω—å —É–≥—Ä–æ–∑—ã (`threat`).
*   **–ö–ª–∏–µ–Ω—Ç**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ React Query –∫–µ—à–µ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Å–æ–±—ã—Ç–∏—è –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.

### 5. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
*   **Next.js App Router**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Next.js 14+.
*   **TypeScript**: –°—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö (—Å—Ö–µ–º—ã Zod –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ API –æ—Ç–≤–µ—Ç–æ–≤).
*   **Docker**: –ù–∞–ø–∏—Å–∞–Ω –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π `Dockerfile` (Multistage build):
    *   *Deps*: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.
    *   *Builder*: –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞.
    *   *Runner*: –ó–∞–ø—É—Å–∫ production-–æ–±—Ä–∞–∑–∞ –Ω–∞ Alpine Linux –ø–æ–¥ non-root –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º (security best practices).

---

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

*   **Framework**: Next.js 14 (App Router)
*   **Language**: TypeScript
*   **UI Kit**: Material UI (MUI v5)
*   **State Management**: TanStack Query (React Query) v5
*   **Styling**: SCSS Modules
*   **Maps**: Yandex Maps API
*   **Validation**: Zod
*   **Containerization**: Docker

---

## üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

### –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫

1.  –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
    ```bash
    npm install 
    ```
2.  –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env.local` –∏ –¥–æ–±–∞–≤—å—Ç–µ –∫–ª—é—á API –Ø–Ω–¥–µ–∫—Å.–ö–∞—Ä—Ç (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –∏–Ω–∞—á–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –≤ dev-—Ä–µ–∂–∏–º–µ):
    ```env
    NEXT_PUBLIC_YMAPS_API_KEY=–≤–∞—à_–∫–ª—é—á
    ```
3.  –ó–∞–ø—É—Å—Ç–∏—Ç–µ –¥–µ–≤-—Å–µ—Ä–≤–µ—Ä:
    ```bash
    npm run dev
    ```
    –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É `http://localhost:3000`.

### –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker

–°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞:
```bash
docker build -t yokai-dashboard .

üöÄ –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker
docker-compose up --build -d


–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É:

http://localhost:3000


–ß—Ç–æ–±—ã –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:

docker-compose down